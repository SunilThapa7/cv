{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Professional CV of {{ profile.name }}" />
  <title>{{ profile.name }} ‚Äì {{ profile.job_title }}</title>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
  <a class="skip-link" href="#main">Skip to main content</a>
  <header class="site-header">
    <div class="container header-grid">
      <div class="identity">
        <h1 class="name">{{ profile.name|upper }}</h1>
        <p class="role">{{ profile.job_title }}</p>
      </div>
      <aside class="contact">
        <ul class="contact-list">
          <li><span>üìû</span><a href="tel:{{ profile.phone }}">{{ profile.phone }}</a></li>
          <li><span>‚úâÔ∏è</span><a href="mailto:{{ profile.email }}">{{ profile.email }}</a></li>
          <li><span>üîó</span><a href="{{ profile.portfolio_url }}" target="_blank">Portfolio</a></li>
          <li><span>üìç</span><span>{{ profile.location }}</span></li>
        </ul>
      </aside>
    </div>
  </header>

  <main id="main" class="site-main">
    <div class="container card">
      <section>
        <h2>About Me</h2>
        <p>{{ profile.about|linebreaksbr }}</p>
      </section>

      <hr/>

      <section>
        <h2>Education</h2>
        {% for edu in education %}
        <article class="edu-item">
          <h3>{{ edu.degree }} <span class="muted">| {{ edu.start_year }}‚Äì{{ edu.end_year }}{% if edu.ongoing %} | Ongoing{% endif %}</span></h3>
          <p><strong>{{ edu.institution }}</strong></p>
        </article>
        {% endfor %}
      </section>

      <hr/>
      <section>
        <h2>Work Experience</h2>
        {% for ex in experience %}
        <article class="exp-item">
          <header>
            <h3>{{ ex.title }}</h3>
            <p class="muted">{{ ex.company }} ‚Ä¢ {{ ex.start_year }}‚Äì{{ ex.end_year }}{% if ex.current %} ‚Ä¢ Present{% endif %}{% if ex.external_url %} ‚Ä¢ <a href="{{ ex.external_url }}" target="_blank">{{ ex.external_url }}</a>{% endif %}</p>
          </header>
          <ul>
            {% for b in ex.bullets.all %}
              <li>{{ b.text }}</li>
            {% endfor %}
          </ul>
        </article>
        {% endfor %}
      </section>

      <hr />

      <section>
        <h2>Projects</h2>
        {% for project in projects %}
        <article class="proj-item">
          <h3>{{ project.title }}</h3>
          <p>{{ project.description }}{% if project.link %} <a href="{{ project.link }}" target="_blank">View Project</a>{% endif %}</p>
        </article>
        {% endfor %}
      </section>

      <hr />

      <section class="skills">
        <h2>Skills</h2>
        <div class="skills-grid">
          {% for skill_category in skills %}
          <ul>
            <li><strong>{{ skill_category.title }}</strong></li>
            {% for skill in skill_category.skills.all %}
            <li>{{ skill.name }}</li>
            {% endfor %}
          </ul>
          {% endfor %}
        </div>
      </section>

      <hr />

      <section>
        <h2>Personal Attributes</h2>
        <ul class="cols-2">
          {% for attr in attributes %}
          <li>{{ attr.text }}</li>
          {% endfor %}
        </ul>
      </section>

      <hr />

      <section>
        <h2>Languages</h2>
        <ul class="cols-3">
          {% for language in languages %}
          <li>{{ language.name }}{% if language.level %} ({{ language.level }}){% endif %}</li>
          {% endfor %}
        </ul>
      </section>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p class="muted">¬© {{ current_year }} {{ profile.name }} ‚Ä¢ CV</p>
    </div>
  </footer>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "{{ profile.name }}",
    "jobTitle": "{{ profile.job_title }}",
    "email": "mailto:{{ profile.email }}",
    "telephone": "{{ profile.phone }}",
    "url": "{{ profile.portfolio_url }}",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "{{ profile.location }}",
      "addressCountry": "NP"
    },
    "sameAs": [
      "{{ profile.portfolio_url }}"
    ]
  }
  </script>
  </footer>
</body>
</html>
